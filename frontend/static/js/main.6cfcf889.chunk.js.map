{"version":3,"sources":["utils/Api.js","utils/constant.js","images/headerlogo.svg","components/AuthInfo.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/Form.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/ProtectedRoute.js","components/InfoTooltip.js","errors/badRequestError.js","errors/unauthorizedError.js","utils/auth.js","components/AuthorizeForm.js","components/Login.js","components/Register.js","images/resolve.svg","images/reject.svg","images/loading.svg","components/App.js","reportWebVitals.js","index.js"],"names":["api","apiOptions","this","_url","baseUrl","_headers","headers","_credentials","credentials","path","parameters","fetch","then","res","ok","json","Promise","reject","status","_sendRequest","newUserInfo","method","body","JSON","stringify","name","about","newCard","title","link","id","isLiked","avatar","url","—Åredentials","AuthInfo","email","signOut","className","href","onClick","Header","loggedIn","pathname","useLocation","linkText","linkPath","src","headerLogo","alt","to","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","Footer","ImagePopup","isOpen","onClose","Form","formName","formId","onSubmit","children","isLoading","submitButtonText","isPopup","loginText","loginLink","noConfirm","disabled","PopupWithForm","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","evt","preventDefault","current","value","htmlFor","ref","required","placeholder","EditProfilePopup","props","onUpdateUser","useState","setName","description","setDescription","useEffect","pattern","minLength","maxLength","autoComplete","onChange","target","AddPlacePopup","setLink","ConfirmPopup","onConfirmDelete","ProtectedRoute","Component","component","InfoTooltip","message","iconPath","text","BadRequestError","rest","Error","UnauthorizedError","BASE_URL","AuthorizeForm","autoCompleteEmail","autoCompletePassword","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","emailValid","setEmailValid","passwordValid","setPasswordValid","emailRef","passwordRef","handleChange","validationMessage","validity","valid","Login","onLogin","Register","onRegister","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","setCards","isImageOpen","selectedCard","setSelectedCard","setCurrentUser","cardToDelete","setCardToDelete","setLoading","setLoggedIn","isAuthInfoOpened","isInfoTooltipOpen","setInfoTooltipOpen","loading","setMessage","location","history","useHistory","escape","require","closeAllPopups","getUserInfo","user","catch","err","console","log","getInitialCards","initialCards","Provider","localStorage","removeItem","push","exact","changeLikeCardStatus","newCards","c","auth","resolvePath","rejectPath","error","userData","updateUserInfo","newUser","finally","newAvatar","setUserAvatar","postNewCard","deleteCard","filter","item","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.6cfcf889.chunk.js","sourcesContent":["import { apiOptions } from './constant';\r\n\r\nclass Api {\r\n  constructor(apiOptions) {\r\n    this._url = apiOptions.baseUrl;\r\n    this._headers = apiOptions.headers;\r\n    this._credentials = apiOptions.credentials;\r\n  }\r\n\r\n //–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å\r\n _sendRequest(path, parameters) {\r\n  return fetch(`${this._url}${path}`, parameters).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(res.status);\r\n  });\r\n}\r\n\r\n  //–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n  getUserInfo() {\r\n    return this._sendRequest(`/users/me`, {\r\n      headers: this._headers,\r\n      credentials: this._credentials,\r\n    });\r\n  }\r\n\r\n   //–ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏\r\n   getInitialCards() {\r\n    return this._sendRequest(`/cards`, {\r\n      headers: this._headers,\r\n      credentials: this._credentials,\r\n    });\r\n  }\r\n\r\n\r\n  //–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ\r\n  updateUserInfo(newUserInfo) {\r\n    return this._sendRequest(`/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      credentials: this._credentials,\r\n      body: JSON.stringify({\r\n        name: newUserInfo.name,\r\n        about: newUserInfo.about,\r\n      }),\r\n    });\r\n  }\r\n\r\n  //–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É\r\n  postNewCard(newCard) {\r\n    return this._sendRequest(`/cards`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        name: newCard.title,\r\n        link: newCard.link,\r\n      }),\r\n      headers: this._headers,\r\n      credentials: this._credentials,\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    return this._sendRequest(`/cards/likes/${id}`, {\r\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n      headers: this._headers,\r\n      credentials: this._credentials,\r\n    });\r\n  }\r\n\r\n  //–£–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ\r\n  deleteCard(id) {\r\n    return this._sendRequest(`/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n      credentials: this._credentials,\r\n    });\r\n  }\r\n\r\n\r\n  //–û–±–Ω–æ–≤–∏—Ç—å –∞–≤–∞—Ç–∞—Ä\r\n  updateUserAvatar(avatar) {\r\n    return this._sendRequest(`/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify({ avatar: avatar.url }),\r\n      headers: this._headers,\r\n      credentials: this._credentials,\r\n    });\r\n  }\r\n}\r\n\r\nexport const api = new Api(apiOptions);","\r\nexport const apiOptions = {\r\n  baseUrl: 'https://api.advent.students.nomoredomains.rocks/',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  —Åredentials: 'include',\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/headerlogo.c2821b38.svg\";","import React from 'react';\r\n\r\nfunction AuthInfo({ email, signOut }) {\r\n  return (\r\n    <div className='auth-info'>\r\n      <span>{email}</span>\r\n      <a href='/sign-in' className='header__link' onClick={signOut}>–í—ã–π—Ç–∏</a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthInfo;","import React from 'react';\nimport headerLogo from '../images/headerlogo.svg';\n\nimport { Link, useLocation } from 'react-router-dom';\nimport AuthInfo from './AuthInfo';\n\nfunction Header\n  ({\n    loggedIn, email, signOut\n  })\n\n  {\n\n  const { pathname } = useLocation();\n\n  const linkText = `${pathname === '/signin' ? '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è' : '–í–æ–π—Ç–∏'}`;\n  const linkPath = `${pathname === '/signin' ? '/signup' : '/signin'}`;\n\n  return (\n    <header className=\"header section\">\n     <img className=\"header__logo-image\" src={headerLogo} alt=\"–ª–æ–≥–æ—Ç–∏–ø —Å–∞–π—Ç–∞\"/>\n     {loggedIn\n        ? (<>\n          <AuthInfo email={email} signOut={signOut} />\n        </>)\n        : (<Link to={linkPath} className=\"link header__link\">{linkText}</Link>)\n      }\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n\r\n\r\nfunction handleClick() {\r\n    onCardClick(card);\r\n}\r\n   const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —è–≤–ª—è–µ–º—Å—è –ª–∏ –º—ã –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Ç–µ–∫—É—â–µ–π –∫–∞—Ä—Ç–æ—á–∫–∏\r\n    const isOwn = card.owner._id === currentUser._id;\r\n\r\n    // –°–æ–∑–¥–∞—ë–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –∫–æ—Ç–æ—Ä—É—é –ø–æ—Å–ª–µ –∑–∞–¥–∞–¥–∏–º –≤ `className` –¥–ª—è –∫–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è\r\n    const cardDeleteButtonClassName = (\r\n    `elements__delete ${isOwn ? 'elements__delete_visible' : 'elements__delete'}`\r\n    ); \r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = `elements__text-like ${\r\n      isLiked && 'elements__text-like_active'\r\n    }`;\r\n\r\n      function handleLikeClick() {\r\n        onCardLike(card);\r\n      }\r\n    \r\n      function handleDeleteClick() {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"elements__item\">\r\n            <img className=\"elements__item-img\" src={card.link}\r\n                alt={card.name}\r\n                onClick={handleClick}/>\r\n            <button type=\"button\" \r\n            className={cardDeleteButtonClassName}\r\n            onClick={handleDeleteClick} >\r\n            </button>\r\n            <div className=\"elements__text\">\r\n            <h3 className=\"elements__text-title\">{card.name}</h3>\r\n            <div className=\"elements__text_count\">\r\n            <button type=\"button\"  \r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick} >\r\n          </button>\r\n            <div className=\"elements__text-likecounter\">{card.likes.length}</div>\r\n            </div>\r\n            </div>\r\n        </li>\r\n        \r\n    )\r\n\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ onEditAvatar,onEditProfile,onAddPlace,cards,onCardClick, onCardDelete, onCardLike}){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <div className=\"content section\">\r\n        <section className=\"profile section\">\r\n          <div className=\"profile__section\">\r\n            <div className=\"profile__avatar\">\r\n              <img className=\"profile__avatarimage\"\r\n                    alt='–ê–≤–∞—Ç–∞—Ä –ø—Ä–æ—Ñ–∏–ª—è'\r\n                    src={currentUser.avatar}\r\n                    />\r\n              <div className=\"profile__cover\">\r\n                <button type=\"button\" className=\"profile__avatarbutton\" onClick={onEditAvatar}></button>\r\n              </div>\r\n            </div>\r\n            <div className=\"profile__intro\">\r\n              <div className=\"intro\">\r\n              <h1 className=\"intro__title\">{currentUser.name}</h1>\r\n                <p className=\"intro__subtitle\">{currentUser.about}</p>\r\n              </div>\r\n              <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\r\n            </div>\r\n          </div>\r\n          <button type=\"button\" className=\"profile__button\" onClick={onAddPlace}></button>\r\n        </section>\r\n        <ul className=\"elements__list\">\r\n         {cards.map((card) => (\r\n        <Card\r\n          key={card._id}\r\n          card={card}\r\n          onCardClick={onCardClick}\r\n          onCardLike={onCardLike}\r\n          onCardDelete={onCardDelete}\r\n        />\r\n      ))}\r\n       </ul>\r\n      </div>\r\n    )\r\n}\r\nexport default Main;\r\n\r\n\r\n","import React from 'react';\r\n\r\nfunction Footer(){\r\n    return (\r\n    <footer className=\"footer section\">\r\n      <p className=\"footer__copyright\">¬© 2020 Mesto Russia</p>\r\n    </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","\r\nimport React from 'react';\r\n\r\nfunction ImagePopup({isOpen, onClose, link, name}) {\r\n  return (\r\n    <div className={`popup ${isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__background popup__background_photo\"></div>\r\n        <div className=\"popup__photo-container\">\r\n          <button type=\"reset\" className=\"popup__button\" onClick={onClose}></button>\r\n            <img className=\"popup__image\" src={link} alt={name}/>\r\n            <h2 className=\"popup__title popup__title_photo\">{name}</h2>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Form\r\n({\r\n    formName,\r\n    formId,\r\n    onSubmit,\r\n    title,\r\n    children,\r\n    isLoading,\r\n    submitButtonText,\r\n    isPopup,\r\n    path,\r\n    loginText,\r\n    loginLink,\r\n    noConfirm,\r\n    disabled,\r\n    onClose\r\n})\r\n    {\r\n        return(\r\n            <form \r\n            name={formName} \r\n            id={formId}\r\n            onSubmit={onSubmit}\r\n            className={`${isPopup && 'popup__form'} popup__form_type_${formName}`}>\r\n                \r\n                <h2 className={`${!isPopup && 'authorize__form-title'} popup__title`}>{title}</h2>\r\n                {children}\r\n\r\n                {!noConfirm\r\n          && (<button type=\"submit\" className={`${!isPopup && 'authorize__form-button'} popup__submit`}\r\n                        disabled={disabled}>\r\n                        {isLoading ? `–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...` : submitButtonText}\r\n                </button>)}\r\n\r\n                {isPopup && (<button type=\"reset\" className=\"popup__button\" onClick={onClose}/>)}\r\n\r\n                {!isPopup && (<span className=\"authorize__form-quest\">{loginText}<Link to={path} className=\"authorize__form-quest authorize__form-link\">{loginLink}</Link></span>)}\r\n\r\n            </form>\r\n        )\r\n\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\nimport Form  from './Form';\r\n\r\nfunction PopupWithForm\r\n  ({ \r\n    isOpen,\r\n    formId,\r\n    onSubmit,\r\n    onClose,\r\n    formName,\r\n    title,\r\n    children,\r\n    submitButtonText,\r\n    disabled,\r\n    isLoading,\r\n    noConfirm\r\n  })\r\n  {\r\n    return(\r\n         <section className={`popup ${isOpen && 'popup_opened'}`}>\r\n          <div className=\"popup__background\"></div>\r\n\r\n          <Form\r\n            id={formId}\r\n            isPopup={true}\r\n            name={formName}\r\n            onSubmit={onSubmit}\r\n            onClose={onClose}\r\n            isLoading={isLoading}\r\n            title={title}\r\n            children={children}\r\n            disabled={disabled}\r\n            submitButtonText={submitButtonText}\r\n            noConfirm={noConfirm}\r\n          ></Form>\r\n\r\n      </section>\r\n    )\r\n\r\n}\r\n\r\nexport default PopupWithForm;","import React, {useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n\r\n  const inputRef = useRef('');\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({ avatar: inputRef.current.value });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='popup'\r\n      id = 'popup-editavatar-form'\r\n      title='–û–±–Ω–æ–≤–∏—Ç—å –∞–≤–∞—Ç–∞—Ä'\r\n      submitButtonText='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    >\r\n     <label htmlFor='avatar' className=\"popup__input-label\">\r\n          <input \r\n            ref={inputRef}\r\n            type='url'\r\n            name=\"avatar\" \r\n            className=\"popup__input popup__input_avatar\" \r\n            required \r\n            placeholder=\"–°—Å—ã–ª–∫–∞ –Ω–∞ –∞–≤–∞—Ç–∞—Ä\"\r\n          />\r\n          <span className='popup__input-error' id=\"avatar-error\"></span>\r\n        </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const {isOpen, onClose, onUpdateUser, isLoading } = props\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(evt) {\r\n    if(evt.target.name === 'name')\r\n      setName(evt.target.value)\r\n  }\r\n  function handleChangeDescription(evt) {\r\n    if(evt.target.name === 'about')\r\n      setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n    return (\r\n      <PopupWithForm\r\n        name='popup'\r\n        id = 'popup-edit-form'\r\n        title='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å'\r\n        submitButtonText='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å'\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n        isLoading={isLoading}  \r\n      >\r\n        <label htmlFor='name' className=\"popup__input-label\">\r\n        <input  \r\n          name=\"name\"\r\n          value={name || ''}\r\n          className=\"popup__input popup__input_name\" \r\n          type=\"text\" \r\n          required \r\n          pattern='[–ê-–Ø–∞-—èA-Za-z -]{1,}'\r\n          placeholder=\"–í–≤–µ–¥–∏—Ç–µ –∏–º—è\" \r\n          minLength =\"2\" \r\n          maxLength =\"40\" \r\n          autoComplete=\"off\"\r\n          onChange={handleChangeName}\r\n        />\r\n        <span className='popup__input-error' id=\"name-error\"></span>\r\n        </label>\r\n        <label htmlFor='about' className=\"popup__input-label\">\r\n        <input \r\n          type='text'\r\n          name=\"about\" \r\n          className=\"popup__input popup__input_job\" \r\n          value={description || ''}\r\n          required \r\n          placeholder=\"–ß–µ–º –≤—ã –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å?\" \r\n          minLength =\"2\" \r\n          maxLength =\"200\" \r\n          autoComplete=\"off\"\r\n          onChange={handleChangeDescription}\r\n        />\r\n        <span className='popup__input-error' id=\"about-error\"></span>\r\n        </label>\r\n        </PopupWithForm>\r\n    );\r\n  }\r\nexport default EditProfilePopup;","import React, { useState }  from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\n\r\nfunction AddPlacePopup({isOpen,onClose, onAddPlace, isLoading }) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n  \r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [isOpen]);\r\n\r\n  function handleChangeCardName(evt) {\r\n    if(evt.target.name === 'name')\r\n      setName(evt.target.value)\r\n      // : setLink(evt.target.value);\r\n  }\r\n  function handleChangeCardLink(evt) {\r\n    if(evt.target.name === 'link')\r\n      // ? setName(evt.target.value)\r\n      setLink(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      formName='popup'\r\n      formId = 'popup-addCard'\r\n      title='–ù–æ–≤–æ–µ –º–µ—Å—Ç–æ'\r\n      submitButtonText='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    >\r\n      <label htmlFor='name' className=\"popup__input-label\">\r\n            <input \r\n            id='name'\r\n            name='name'\r\n            value={name || ''}\r\n            placeholder='–ù–∞–∑–≤–∞–Ω–∏–µ'\r\n            minLength='1'\r\n            maxLength='30'\r\n            required\r\n            onChange={handleChangeCardName}\r\n            className=\"popup__input popup__input_name\"\r\n            type=\"text\" \r\n            autoComplete=\"off\"\r\n             />\r\n            <span className='popup__input-error' \r\n            \r\n          id='name-error'></span>\r\n        </label>\r\n        <label htmlFor='link' className=\"popup__input-label\">   \r\n          <input \r\n          type='url'\r\n          id='link'\r\n          name='link'\r\n          value={link || ''}\r\n          placeholder='–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É'\r\n          required\r\n          onChange={handleChangeCardLink}\r\n          className=\"popup__input popup__input_link\" \r\n          autoComplete=\"off\" \r\n          minLength =\"2\" \r\n          maxLength =\"200\"/>\r\n          <span className='popup__input-error' id=\"link-error\"></span>\r\n        </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup({isOpen, onClose, onConfirmDelete, isLoading}) {\r\n  \r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onConfirmDelete();\r\n  }\r\n\r\n    return (\r\n      <PopupWithForm\r\n        name='popup'\r\n        id = 'popup-deleteCards'\r\n        title='–í—ã —É–≤–µ—Ä–µ–Ω–Ω—ã?'\r\n        submitButtonText='–î–∞'\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n        isLoading={isLoading}\r\n      ></PopupWithForm>\r\n    );\r\n  }\r\nexport default ConfirmPopup;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({component: Component, ...props}) => {\r\n    return(\r\n        <Route>\r\n            {\r\n\r\n                () => props.loggedIn ? <Component {...props}/> : <Redirect to='/signin'/>\r\n            }\r\n            </Route>\r\n      \r\n    )\r\n}\r\nexport default ProtectedRoute;","\r\nimport React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction InfoTooltip(props) {\r\n  const { isOpen, onClose, loggedIn, message } = props;\r\n\r\n  return (\r\n    <PopupWithForm\r\n      formName='infoTooltip'\r\n      noConfirm={true}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      loggedIn={loggedIn}\r\n      isPopup={true}\r\n    >\r\n      <img src={message.iconPath} alt='–ò–∫–æ–Ω–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏' className='form__icon' />\r\n      <p className='infoToolTip__text'>{message.text}</p>\r\n\r\n    </PopupWithForm >\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","class BadRequestError extends Error{\r\n    constructor(message, ...rest){\r\n        super(...rest);\r\n        this.status = 401;\r\n        this.message = message;\r\n    }\r\n}\r\nexport default BadRequestError;","class UnauthorizedError extends Error{\r\n    constructor(message, ...rest){\r\n        super(...rest);\r\n        this.status = 400;\r\n        this.message = message;\r\n    }\r\n}\r\nexport default UnauthorizedError;","import BadRequestError from '../errors/badRequestError';\nimport UnauthorizedError from '../errors/unauthorizedError';\n\n\nexport const BASE_URL = 'https://api.advent.students.nomoredomains.rocks';\n\n\n// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∑–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é\nexport const register = (password, email) => fetch(`${BASE_URL}/signup`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  —Åredentials: 'include',\n  body: JSON.stringify({ password, email }),\n})\n  .then((res) => {\n    if (!res.ok) {\n      return res.json()\n        .then((err) => {\n          if (err.error) {\n            throw new BadRequestError(err.error);\n          } else {\n            throw new BadRequestError(err.message);\n          }\n        });\n    }\n    return res.json();\n});\n\n// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∑–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é\nexport const authorize = (password, email) => fetch(`${BASE_URL}/signin`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  —Åredentials: 'include',\n  body: JSON.stringify({ password, email }),\n})\n  .then((res) => {\n    if (res.status === 400) {\n      throw new BadRequestError('–ù–µ –ø–µ—Ä–µ–¥–∞–Ω–æ –æ–¥–Ω–æ –∏–∑ –ø–æ–ª–µ–π');\n    }\n    else if (res.status === 401) {\n      throw new UnauthorizedError('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email –Ω–µ –Ω–∞–π–¥–µ–Ω');\n    }\n    return res.json();\n});\n\n// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∑–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞\n// export const getContent = (token) => fetch(`${BASE_URL}/users/me`, {\n//   method: 'GET',\n//   headers: {\n//     'Content-Type': 'application/json',\n//     'Authorization': `Bearer ${token}`,\n//   },\n// })\n//   .then((res) => {\n//     if (!res.ok) {\n//       return res.json()\n//         .then((err) => {\n//           throw new UnauthorizedError(err.message);\n//         });\n//     }\n//     return res.json()\n//   })\n//   .then((data) => data);\n","  \r\nimport React, { useState, useRef } from 'react';\r\nimport Form from './Form';\r\n\r\nfunction AuthorizeForm({onSubmit, title, submitButtonText, path,\r\n    loginText, loginLink, autoCompleteEmail, autoCompletePassword}){\r\n       \r\n       \r\n       \r\n        const [email, setEmail] = useState('');\r\n        const [password, setPassword] = useState('');\r\n        const [emailError, setEmailError] = useState('');\r\n        const [passwordError, setPasswordError] = useState('');\r\n        const [emailValid, setEmailValid] = useState(false);\r\n        const [passwordValid, setPasswordValid] = useState(false);\r\n\r\n        const emailRef = useRef();\r\n        const passwordRef = useRef();\r\n      \r\n        function handleChange(evt) {\r\n          const { value } = evt.target;\r\n          evt.target.name === 'email'\r\n            ? setEmail(value)\r\n            : setPassword(value);\r\n          validate();\r\n        }\r\n      \r\n        function validate() {\r\n          setEmailError(emailRef.current.validationMessage);\r\n          setPasswordError(passwordRef.current.validationMessage);\r\n          !emailRef.current.validity.valid ? setEmailValid(false) : setEmailValid(true);\r\n          !passwordRef.current.validity.valid ? setPasswordValid(false) : setPasswordValid(true);\r\n        }\r\n\r\n        function handleSubmit(evt) {\r\n            evt.preventDefault();\r\n            if (!email && !password) return;\r\n            onSubmit(password, email);\r\n            setEmail('');\r\n            setPassword('');\r\n        }\r\n\r\n    \r\n    \r\n        return(\r\n        <section className=\"authorize\">\r\n            <Form\r\n                id='authForm'\r\n                formName='signin'\r\n                title={title}\r\n                submitButtonText={submitButtonText}\r\n                isPopup={false}\r\n                path={path}\r\n                loginText={loginText}\r\n                loginLink={loginLink}\r\n                onSubmit={handleSubmit}\r\n            >\r\n            <label htmlFor=\"email\" className=\"authorize__form-label\">\r\n                <input \r\n                    ref={emailRef}\r\n                    id=\"email\" \r\n                    type=\"email\" \r\n                    placeholder=\"Email\" \r\n                    className=\"authorize__form-input\"\r\n                    name='email'\r\n                    value={email || ''}\r\n                    minLength='6'\r\n                    maxLength='40'\r\n                    autoComplete={autoCompleteEmail}\r\n                    required\r\n                    onChange={handleChange}\r\n                />\r\n\r\n            <span className={`popup__input-error ${!emailValid && 'authorize__form-error_visible'}`} id='email-error'>\r\n                {emailError}\r\n            </span>\r\n\r\n            </label>\r\n\r\n            <label htmlFor=\"password\" className=\"authorize__form-label\">\r\n                <input \r\n                    ref={passwordRef}\r\n                    id=\"password\" \r\n                    type=\"password\" \r\n                    placeholder=\"–ü–∞—Ä–æ–ª—å\" \r\n                    className=\"authorize__form-input\"\r\n                    name='password'\r\n                    value={password || ''}\r\n                    minLength='8'\r\n                    maxLength='30'\r\n                    autoComplete={autoCompletePassword}\r\n                    required\r\n                    onChange={handleChange}\r\n                />\r\n                <span className={`popup__input-error ${!passwordValid && 'authorize__form-error_visible'}`}\r\n                        id='password-error'>\r\n                    {passwordError}\r\n                </span>\r\n            </label>\r\n            \r\n            </Form>\r\n\r\n        </section>\r\n    )\r\n}\r\nexport default AuthorizeForm;","import React from 'react';\r\nimport AuthorizeForm from './AuthorizeForm';\r\n\r\nfunction Login({ onLogin }){\r\n    \r\n    function submitForm(password, email) {\r\n        onLogin(password, email);\r\n    }\r\n\r\n    return(\r\n        <AuthorizeForm\r\n            title='–í—Ö–æ–¥'\r\n            submitButtonText='–í–æ–π—Ç–∏'\r\n            path='/signup'\r\n            onSubmit={submitForm}\r\n            autoCompleteEmail='email'\r\n            autoCompletePassword='current-password'\r\n        />\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport AuthorizeForm from './AuthorizeForm';\r\n\r\nfunction Register({ onRegister }){\r\n    function submitForm(password, email) {\r\n        onRegister(password, email);\r\n      }\r\n    \r\n\r\n    return(\r\n        <AuthorizeForm\r\n            title='–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è'\r\n            submitButtonText='–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è'\r\n            path='/signin'\r\n            loginText='–£–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã?'\r\n            loginLink='–í–æ–π—Ç–∏'\r\n            onSubmit={submitForm}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/resolve.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/reject.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/loading.65f78576.svg\";","\nimport React, { useState, useEffect }  from 'react';\nimport {\n  Route, Switch, useLocation, Redirect, useHistory,\n} from 'react-router-dom';\n\nimport '../index.css';\nimport { api } from '../utils/Api.js';\nimport Header from '../components/Header.js';\nimport Main from '../components/Main.js';\nimport Footer from '../components/Footer.js';\nimport ImagePopup from '../components/ImagePopup.js';\nimport EditAvatarPopup from '../components/EditAvatarPopup.js';\nimport EditProfilePopup from '../components/EditProfilePopup.js';\nimport AddPlacePopup from '../components/AddPlacePopup.js';\nimport ConfirmPopup from './ConfirmPopup.js';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/auth';\nimport { CurrentUserContext }  from '../contexts/CurrentUserContext.js'\nimport Login from './Login';\nimport Register from './Register';\nimport resolvePath from '../images/resolve.svg';\nimport rejectPath from '../images/reject.svg';\nimport loading from '../images/loading.svg';\n\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState({\n    isImageOpen: false,\n    link: '',\n    name: '',\n  });\n\n  const [currentUser, setCurrentUser] = useState({})\n  const [cardToDelete, setCardToDelete] = useState({});\n  const [isLoading, setLoading] = useState(false);\n\n  // –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState('');\n  const [isAuthInfoOpened, setAuthInfoOpened] = useState(false);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\n  const [message, setMessage] = useState({\n    iconPath: loading,\n    text: ''\n  });\n  const location = useLocation();\n  const history = useHistory();\n\n  const escape = require('escape-html');\n\n\n\n  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω. –Ω–∞–º –±–æ–ª—å—à–µ –Ω–µ –Ω–∞–¥–æ —Ç–∞–∫ –∫–∞–∫ —Ç–æ–∫–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫—É–∫–∏\n  // React.useEffect(() => {\n  //   const jwt = localStorage.getItem('jwt');\n  //   if (jwt) {\n  //     api.getContent(jwt)\n  //       .then((res) => {\n  //         setLoggedIn(true);\n  //         setEmail(res.data.email);\n  //         history.push('/');\n  //       })\n  //       .catch(err => console.log(err));\n  //   }\n  // }, [history]);\n\n\n// –ø–æ—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n// useEffect(() => {\n//   if (loggedIn) {\n//     api\n//       .getUserInfo()\n//       .then((user) => {\n//         setCurrentUser(user);\n//       })\n//       .catch((err) => console.log(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ: ${err}`));\n//     }\n// }, [loggedIn]);\n\n// –ø–æ—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n  useEffect(() => {\n    api.getUserInfo()\n      .then((user) => {\n        setLoggedIn(true);\n        setCurrentUser(user);\n        return;\n      })\n      .catch((err) => console.log(err));\n  }, [loggedIn]);\n\n// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è\nfunction handleRegister(password, email) {\n\n  auth.register(escape(password), email)\n    .then(() => {\n      setMessage({ iconPath: resolvePath, text: '–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å!' });\n      history.push('/signin');\n    })\n    .catch((err) => {\n      setMessage({ iconPath: rejectPath, text: err.message });\n      setInfoTooltipOpen(true);\n    })\n}\n\n// –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è\nfunction handleLogin(password, email) {\n\n  auth.authorize(escape(password), email)\n    .then((user) => {\n      // setLoggedIn(true);\n      setCurrentUser(user);\n      setLoggedIn(true);\n      setMessage({ iconPath: resolvePath, text: '–í—ã —É—Å–ø–µ—à–Ω–æ –≤–æ—à–ª–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!' });\n      setEmail(user.email);\n      history.push('/');\n    })\n    .catch((err) => {\n      setMessage({ iconPath: rejectPath, text: err.message })\n      setInfoTooltipOpen(true);\n    })\n\n\n}\n  // –í—ã—Ö–æ–¥\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    setEmail('');\n    history.push('/signin');\n  }\n\n  // –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏\n  useEffect(() => {\n    if (loggedIn) {\n      api\n        .getInitialCards()\n        .then((initialCards) => {\n          setCards(initialCards);\n        })\n        .catch((err) => console.log(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞—Ä—Ç–æ—á–µ–∫: ${err}`));\n      }\n  }, [loggedIn]);\n\n  //–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø –∞–≤–∞—Ç–∞—Ä–∞\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n  //–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø –ø—Ä–æ—Ñ–∏–∏–ª—è\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n  //–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø –∫–∞—Ä—Ç–æ—á–∫–∏\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n  // –æ—Ç–∫—Ä—ã—Ç—å —Ñ—É–ª—Å–∞–π–∑ —Ñ–æ—Ç–æ\n  function handleCardClick(card) {\n    const { link, name } = card;\n    setSelectedCard({ isImageOpen: true, link: link, name: name });\n  }\n  function handleCardLike(card) {\n    // –°–Ω–æ–≤–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ –ª–∞–π–∫ –Ω–∞ —ç—Ç–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –≤ API –∏ –ø–æ–ª—É—á–∞–µ–º –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        // –§–æ—Ä–º–∏—Ä—É–µ–º –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ—é—â–µ–≥–æ—Å—è, –ø–æ–¥—Å—Ç–∞–≤–ª—è—è –≤ –Ω–µ–≥–æ –Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–µ–π—Ç\n      setCards(newCards);\n    })\n    .catch((err) =>\n        console.log(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ª–∞–π–∫–∞: ${err}`)\n    );\n  }\n   //–£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è\n   function handleConfirm() {\n    api\n      .deleteCard(cardToDelete._id)\n      .then(() =>{\n        setCards(cards.filter((item) => item !== cardToDelete))\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–∞—Ä—Ç–æ—á–∫–∏: ${err}`));\n\n  }\n  //–ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏\n  function handleCardDelete(card) {\n    setConfirmPopupOpen(true);\n    setCardToDelete(card);\n  }\n  //–ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–ø–∞–ø—ã\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setSelectedCard({});\n    setConfirmPopupOpen(false);\n    setInfoTooltipOpen(false)\n  }\n  //–û–±–Ω–æ–≤–∏—Ç—å –∞–≤–∞—Ç–∞—Ä\n  function handleUpdateAvatar(newAvatar) {\n      setLoading(true);\n      api\n        .setUserAvatar(newAvatar)\n        .then((res) => {\n          setCurrentUser(res);\n          closeAllPopups();\n        })\n        .catch((err) => console.log(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∞–≤–∞—Ç–∞—Ä–∞: ${err}`))\n        .finally(() => setLoading(false));\n\n  }\n  //–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n  function handleUpdateUser(userData) {\n      setLoading(true);\n      api\n        .updateUserInfo(userData)\n        .then((newUser) => {\n          setCurrentUser(newUser);\n          closeAllPopups();\n        })\n        .catch((err) => `–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ: ${err}`)\n        .finally(() => setLoading(false));\n\n  }\n\n  function handleAddPlace(card) {\n      setLoading(true);\n      api\n        .postNewCard(card)\n        .then((newCard) => {\n          setCards([newCard, ...cards]);\n          closeAllPopups();\n        })\n        .catch((err) =>\n          console.log(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏: ${err}`)\n        )\n        .finally(() => setLoading(false));\n\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"root\">\n          <div className=\"page\">\n          {(loggedIn && isAuthInfoOpened)}\n\n            <Header loggedIn={loggedIn}\n                    location={location}\n                    email={email}\n                    signOut={handleSignOut}\n                    isAuthInfoOpened={isAuthInfoOpened}\n            />\n            <Switch>\n\n            <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main}\n                    cards={cards}\n                    onCardClick={handleCardClick}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onEditAvatar={handleEditAvatarClick}\n            />\n          <Route path='/signin'>\n            <Login onLogin={handleLogin} />\n          </Route>\n\n          <Route path='/signup'>\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n        </Switch>\n\n        <Footer />\n\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          loggedIn={loggedIn}\n          message={message}\n        />\n\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n              isLoading={isLoading}\n            />\n            <EditAvatarPopup\n              onUpdateAvatar={handleUpdateAvatar}\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              isLoading={isLoading}\n            />\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddPlace={handleAddPlace}\n            />\n            <ConfirmPopup\n              isOpen={isConfirmPopupOpen}\n              onClose={closeAllPopups}\n              onConfirmDelete={handleConfirm}\n            />\n\n            <ImagePopup\n            name={selectedCard.name}\n            link={selectedCard.link}\n            isOpen={selectedCard.isImageOpen}\n            onClose={closeAllPopups}\n            />\n\n          </div>\n        </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n     <BrowserRouter basename=\"/\">\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}