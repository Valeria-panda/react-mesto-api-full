{"version":3,"sources":["utils/Api.js","utils/constant.js","images/headerlogo.svg","components/AuthInfo.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/Form.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/ProtectedRoute.js","components/InfoTooltip.js","errors/badRequestError.js","errors/notAuthorizedError.js","utils/auth.js","components/AuthorizeForm.js","components/Login.js","components/Register.js","images/resolve.svg","images/reject.svg","images/loading.svg","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_serverAnswer","newUserInfo","method","body","JSON","stringify","name","about","avatar","data","link","cardId","isLiked","authorization","AuthInfo","email","signOut","className","href","onClick","Header","loggedIn","pathname","useLocation","linkText","linkPath","src","headerLogo","alt","to","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","Footer","ImagePopup","isOpen","onClose","Form","formName","formId","onSubmit","title","children","isLoading","submitButtonText","isPopup","path","loginText","loginLink","noConfirm","disabled","id","PopupWithForm","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","evt","preventDefault","current","value","htmlFor","ref","required","placeholder","EditProfilePopup","props","onUpdateUser","useState","setName","description","setDescription","useEffect","pattern","minLength","maxLength","autoComplete","onChange","target","AddPlacePopup","setLink","ConfirmPopup","onConfirmDelete","ProtectedRoute","Component","component","InfoTooltip","message","iconPath","text","BadRequestError","rest","Error","NotAuthorizedError","BASE_URL","getContent","token","err","AuthorizeForm","autoCompleteEmail","autoCompletePassword","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","emailValid","setEmailValid","passwordValid","setPasswordValid","emailRef","passwordRef","handleChange","validationMessage","validity","valid","Login","onLogin","Register","onRegister","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","setCards","isImageOpen","selectedCard","setSelectedCard","setCurrentUser","cardToDelete","setCardToDelete","setLoading","setLoggedIn","isAuthInfoOpened","isInfoTooltipOpen","setInfoTooltipOpen","loading","setMessage","location","history","useHistory","escape","require","closeAllPopups","jwt","localStorage","getItem","auth","push","catch","console","log","getUserInfo","currentUserInfoData","getInitialCards","cardData","Provider","locaction","removeItem","exact","changeLikeCardStatus","newCard","newCards","c","credentials","_getResolve","resolvePath","rejectPath","error","userData","updateUserInfo","newUser","finally","newAvatar","setUserAvatar","postNewCard","deleteCard","filter","item","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.82b7b881.chunk.js","sourcesContent":["import {options} from './constant.js'\r\n\r\n\r\nclass Api {\r\n    constructor(options) {\r\n      this._baseUrl = options.baseUrl;\r\n      this._headers = options.headers;\r\n    }\r\n\r\n    //проверяем ответ сервера\r\n    _serverAnswer(res){\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    \r\n    //подгружаем с сервера данные карточек\r\n    getInitialCards() {\r\n      return fetch(`${this._baseUrl}/cards`, {\r\n        headers: this._headers,\r\n      })\r\n      .then(this._serverAnswer)\r\n    }\r\n\r\n    //подгружаем информацию о пользователе с сервера\r\n    getUserInfo() {\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n        headers: this._headers,\r\n      })\r\n      .then(this._serverAnswer)\r\n    }\r\n\r\n    //загружаем на сервер информацию о пользователе, отредактированную\r\n    updateUserInfo(newUserInfo) {\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name: newUserInfo.name,\r\n          about: newUserInfo.about,\r\n        }),\r\n      })\r\n      .then(this._serverAnswer)\r\n    }\r\n  \r\n    //обновление аватара\r\n    setUserAvatar(avatar) {\r\n      return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        body: JSON.stringify({ avatar: avatar.avatar }),\r\n        headers: this._headers,\r\n      })\r\n      .then(this._serverAnswer)\r\n    }\r\n  \r\n    //добавление новой карты\r\n    postNewCard(data) {\r\n      return fetch(`${this._baseUrl}/cards`, {\r\n        headers: this._headers,\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          name: data.name,\r\n          link: data.link,\r\n        }),\r\n      })\r\n      .then(this._serverAnswer)\r\n    }\r\n    \r\n    //удаление карточки \r\n    deleteCard(cardId) {\r\n      return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n        headers: this._headers,\r\n        method: \"DELETE\",\r\n      })\r\n      .then(this._serverAnswer)\r\n    }\r\n\r\n    //постановка лайка\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n        method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n        headers: this._headers,\r\n      })\r\n      .then(this._serverAnswer)\r\n    }\r\n\r\n    //снятие лайка\r\n    deleteLike(cardId) {\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      })\r\n      .then(this._serverAnswer)\r\n    }\r\n\r\n  }\r\n\r\n  export const api = new Api(options);","\r\nexport const options = {\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-16\",\r\n  headers: {\r\n      authorization: \"3b2fde55-52e7-4322-8de5-f90b53e04551\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/headerlogo.c2821b38.svg\";","import React from 'react';\r\n\r\nfunction AuthInfo({ email, signOut }) {\r\n  return (\r\n    <div className='auth-info'>\r\n      <span>{email}</span>\r\n      <a href='/sign-in' className='header__link' onClick={signOut}>Выйти</a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthInfo;","import React from 'react';\r\nimport headerLogo from '../images/headerlogo.svg';\r\n\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport AuthInfo from './AuthInfo';\r\n\r\nfunction Header\r\n  ({\r\n    loggedIn, email, signOut\r\n  }) \r\n \r\n  {\r\n\r\n  const { pathname } = useLocation();\r\n\r\n  const linkText = `${pathname === '/sign-in' ? 'Регистрация' : 'Войти'}`;\r\n  const linkPath = `${pathname === '/sign-in' ? '/sign-up' : '/sign-in'}`;\r\n\r\n  return (\r\n    <header className=\"header section\">\r\n     <img className=\"header__logo-image\" src={headerLogo} alt=\"логотип сайта\"/>\r\n     {loggedIn\r\n        ? (<>\r\n          <AuthInfo email={email} signOut={signOut} />\r\n        </>)\r\n        : (<Link to={linkPath} className=\"link header__link\">{linkText}</Link>)\r\n      }\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n\r\n\r\nfunction handleClick() {\r\n    onCardClick(card);\r\n}\r\n   const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n    const isOwn = card.owner._id === currentUser._id;\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n    const cardDeleteButtonClassName = (\r\n    `elements__delete ${isOwn ? 'elements__delete_visible' : 'elements__delete'}`\r\n    ); \r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = `elements__text-like ${\r\n      isLiked && 'elements__text-like_active'\r\n    }`;\r\n\r\n      function handleLikeClick() {\r\n        onCardLike(card);\r\n      }\r\n    \r\n      function handleDeleteClick() {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"elements__item\">\r\n            <img className=\"elements__item-img\" src={card.link}\r\n                alt={card.name}\r\n                onClick={handleClick}/>\r\n            <button type=\"button\" \r\n            className={cardDeleteButtonClassName}\r\n            onClick={handleDeleteClick} >\r\n            </button>\r\n            <div className=\"elements__text\">\r\n            <h3 className=\"elements__text-title\">{card.name}</h3>\r\n            <div className=\"elements__text_count\">\r\n            <button type=\"button\"  \r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick} >\r\n          </button>\r\n            <div className=\"elements__text-likecounter\">{card.likes.length}</div>\r\n            </div>\r\n            </div>\r\n        </li>\r\n        \r\n    )\r\n\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ onEditAvatar,onEditProfile,onAddPlace,cards,onCardClick, onCardDelete, onCardLike}){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <div className=\"content section\">\r\n        <section className=\"profile section\">\r\n          <div className=\"profile__section\">\r\n            <div className=\"profile__avatar\">\r\n              <img className=\"profile__avatarimage\"\r\n                    alt='Аватар профиля'\r\n                    src={currentUser.avatar}\r\n                    />\r\n              <div className=\"profile__cover\">\r\n                <button type=\"button\" className=\"profile__avatarbutton\" onClick={onEditAvatar}></button>\r\n              </div>\r\n            </div>\r\n            <div className=\"profile__intro\">\r\n              <div className=\"intro\">\r\n              <h1 className=\"intro__title\">{currentUser.name}</h1>\r\n                <p className=\"intro__subtitle\">{currentUser.about}</p>\r\n              </div>\r\n              <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\r\n            </div>\r\n          </div>\r\n          <button type=\"button\" className=\"profile__button\" onClick={onAddPlace}></button>\r\n        </section>\r\n        <ul className=\"elements__list\">\r\n         {cards.map((card) => (\r\n        <Card\r\n          key={card._id}\r\n          card={card}\r\n          onCardClick={onCardClick}\r\n          onCardLike={onCardLike}\r\n          onCardDelete={onCardDelete}\r\n        />\r\n      ))}\r\n       </ul>\r\n      </div>\r\n    )\r\n}\r\nexport default Main;\r\n\r\n\r\n","import React from 'react';\r\n\r\nfunction Footer(){\r\n    return (\r\n    <footer className=\"footer section\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","\r\nimport React from 'react';\r\n\r\nfunction ImagePopup({isOpen, onClose, link, name}) {\r\n  return (\r\n    <div className={`popup ${isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__background popup__background_photo\"></div>\r\n        <div className=\"popup__photo-container\">\r\n          <button type=\"reset\" className=\"popup__button\" onClick={onClose}></button>\r\n            <img className=\"popup__image\" src={link} alt={name}/>\r\n            <h2 className=\"popup__title popup__title_photo\">{name}</h2>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Form\r\n({\r\n    formName,\r\n    formId,\r\n    onSubmit,\r\n    title,\r\n    children,\r\n    isLoading,\r\n    submitButtonText,\r\n    isPopup,\r\n    path,\r\n    loginText,\r\n    loginLink,\r\n    noConfirm,\r\n    disabled,\r\n    onClose\r\n})\r\n    {\r\n        return(\r\n            <form \r\n            name={formName} \r\n            id={formId}\r\n            onSubmit={onSubmit}\r\n            className={`${isPopup && 'popup__form'} popup__form_type_${formName}`}>\r\n                \r\n                <h2 className={`${!isPopup && 'authorize__form-title'} popup__title`}>{title}</h2>\r\n                {children}\r\n\r\n                {!noConfirm\r\n          && (<button type=\"submit\" className={`${!isPopup && 'authorize__form-button'} popup__submit`}\r\n                        disabled={disabled}>\r\n                        {isLoading ? `Сохранение...` : submitButtonText}\r\n                </button>)}\r\n\r\n                {isPopup && (<button type=\"reset\" className=\"popup__button\" onClick={onClose}/>)}\r\n\r\n                {!isPopup && (<span className=\"authorize__form-quest\">{loginText}<Link to={path} className=\"authorize__form-quest authorize__form-link\">{loginLink}</Link></span>)}\r\n\r\n            </form>\r\n        )\r\n\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\nimport Form  from './Form';\r\n\r\nfunction PopupWithForm\r\n  ({ \r\n    isOpen,\r\n    formId,\r\n    onSubmit,\r\n    onClose,\r\n    formName,\r\n    title,\r\n    children,\r\n    submitButtonText,\r\n    disabled,\r\n    isLoading,\r\n    noConfirm\r\n  })\r\n  {\r\n    return(\r\n         <section className={`popup ${isOpen && 'popup_opened'}`}>\r\n          <div className=\"popup__background\"></div>\r\n\r\n          <Form\r\n            id={formId}\r\n            isPopup={true}\r\n            name={formName}\r\n            onSubmit={onSubmit}\r\n            onClose={onClose}\r\n            isLoading={isLoading}\r\n            title={title}\r\n            children={children}\r\n            disabled={disabled}\r\n            submitButtonText={submitButtonText}\r\n            noConfirm={noConfirm}\r\n          ></Form>\r\n\r\n      </section>\r\n    )\r\n\r\n}\r\n\r\nexport default PopupWithForm;","import React, {useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n\r\n  const inputRef = useRef('');\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({ avatar: inputRef.current.value });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='popup'\r\n      id = 'popup-editavatar-form'\r\n      title='Обновить аватар'\r\n      submitButtonText='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    >\r\n     <label htmlFor='avatar' className=\"popup__input-label\">\r\n          <input \r\n            ref={inputRef}\r\n            type='url'\r\n            name=\"avatar\" \r\n            className=\"popup__input popup__input_avatar\" \r\n            required \r\n            placeholder=\"Ссылка на аватар\"\r\n          />\r\n          <span className='popup__input-error' id=\"avatar-error\"></span>\r\n        </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const {isOpen, onClose, onUpdateUser, isLoading } = props\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(evt) {\r\n    if(evt.target.name === 'name')\r\n      setName(evt.target.value)\r\n  }\r\n  function handleChangeDescription(evt) {\r\n    if(evt.target.name === 'about')\r\n      setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n    return (\r\n      <PopupWithForm\r\n        name='popup'\r\n        id = 'popup-edit-form'\r\n        title='Редактировать профиль'\r\n        submitButtonText='Сохранить'\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n        isLoading={isLoading}  \r\n      >\r\n        <label htmlFor='name' className=\"popup__input-label\">\r\n        <input  \r\n          name=\"name\"\r\n          value={name || ''}\r\n          className=\"popup__input popup__input_name\" \r\n          type=\"text\" \r\n          required \r\n          pattern='[А-Яа-яA-Za-z -]{1,}'\r\n          placeholder=\"Введите имя\" \r\n          minLength =\"2\" \r\n          maxLength =\"40\" \r\n          autoComplete=\"off\"\r\n          onChange={handleChangeName}\r\n        />\r\n        <span className='popup__input-error' id=\"name-error\"></span>\r\n        </label>\r\n        <label htmlFor='about' className=\"popup__input-label\">\r\n        <input \r\n          type='text'\r\n          name=\"about\" \r\n          className=\"popup__input popup__input_job\" \r\n          value={description || ''}\r\n          required \r\n          placeholder=\"Чем вы занимаетесь?\" \r\n          minLength =\"2\" \r\n          maxLength =\"200\" \r\n          autoComplete=\"off\"\r\n          onChange={handleChangeDescription}\r\n        />\r\n        <span className='popup__input-error' id=\"about-error\"></span>\r\n        </label>\r\n        </PopupWithForm>\r\n    );\r\n  }\r\nexport default EditProfilePopup;","import React, { useState }  from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\n\r\nfunction AddPlacePopup({isOpen,onClose, onAddPlace, isLoading }) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n  \r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [isOpen]);\r\n\r\n  function handleChangeCardName(evt) {\r\n    if(evt.target.name === 'name')\r\n      setName(evt.target.value)\r\n      // : setLink(evt.target.value);\r\n  }\r\n  function handleChangeCardLink(evt) {\r\n    if(evt.target.name === 'link')\r\n      // ? setName(evt.target.value)\r\n      setLink(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      formName='popup'\r\n      formId = 'popup-addCard'\r\n      title='Новое место'\r\n      submitButtonText='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    >\r\n      <label htmlFor='name' className=\"popup__input-label\">\r\n            <input \r\n            id='name'\r\n            name='name'\r\n            value={name || ''}\r\n            placeholder='Название'\r\n            minLength='1'\r\n            maxLength='30'\r\n            required\r\n            onChange={handleChangeCardName}\r\n            className=\"popup__input popup__input_name\"\r\n            type=\"text\" \r\n            autoComplete=\"off\"\r\n             />\r\n            <span className='popup__input-error' \r\n            \r\n          id='name-error'></span>\r\n        </label>\r\n        <label htmlFor='link' className=\"popup__input-label\">   \r\n          <input \r\n          type='url'\r\n          id='link'\r\n          name='link'\r\n          value={link || ''}\r\n          placeholder='Ссылка на картинку'\r\n          required\r\n          onChange={handleChangeCardLink}\r\n          className=\"popup__input popup__input_link\" \r\n          autoComplete=\"off\" \r\n          minLength =\"2\" \r\n          maxLength =\"200\"/>\r\n          <span className='popup__input-error' id=\"link-error\"></span>\r\n        </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup({isOpen, onClose, onConfirmDelete, isLoading}) {\r\n  \r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onConfirmDelete();\r\n  }\r\n\r\n    return (\r\n      <PopupWithForm\r\n        name='popup'\r\n        id = 'popup-deleteCards'\r\n        title='Вы уверенны?'\r\n        submitButtonText='Да'\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n        isLoading={isLoading}\r\n      ></PopupWithForm>\r\n    );\r\n  }\r\nexport default ConfirmPopup;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({component: Component, ...props}) => {\r\n    return(\r\n        <Route>\r\n            {\r\n\r\n                () => props.loggedIn ? <Component {...props}/> : <Redirect to='./login'/>\r\n            }\r\n            </Route>\r\n      \r\n    )\r\n}\r\nexport default ProtectedRoute;","\r\nimport React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction InfoTooltip(props) {\r\n  const { isOpen, onClose, loggedIn, message } = props;\r\n\r\n  return (\r\n    <PopupWithForm\r\n      formName='infoTooltip'\r\n      noConfirm={true}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      loggedIn={loggedIn}\r\n      isPopup={true}\r\n    >\r\n      <img src={message.iconPath} alt='Иконка авторизации' className='form__icon' />\r\n      <p className='infoToolTip__text'>{message.text}</p>\r\n\r\n    </PopupWithForm >\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","class BadRequestError extends Error{\r\n    constructor(message, ...rest){\r\n        super(...rest);\r\n        this.status = 401;\r\n        this.message = message;\r\n    }\r\n}\r\nexport default BadRequestError;","class NotAuthorizedError extends Error{\r\n    constructor(message, ...rest){\r\n        super(...rest);\r\n        this.status = 400;\r\n        this.message = message;\r\n    }\r\n}\r\nexport default NotAuthorizedError;","import BadRequestError from '../errors/badRequestError';\r\nimport NotAuthorizedError from '../errors/notAuthorizedError';\r\n// старый вариант\r\n// export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const BASE_URL = 'https://www.advent.students.nomoredomains.rocks';\r\n\r\n// Отправляем запрос на регистрацию\r\nexport const register = (password, email) => fetch(`${BASE_URL}/signup`, {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  body: JSON.stringify({ password, email }),\r\n})\r\n  .then((res) => {\r\n    if (!res.ok) {\r\n      return res.json()\r\n        .then((err) => {\r\n          if (err.error) {\r\n            throw new BadRequestError(err.error);\r\n          } else {\r\n            throw new BadRequestError(err.message);\r\n          }\r\n        });\r\n    }\r\n    return res.json();\r\n  });\r\n\r\n\r\n\r\n// Отправляем запрос на авторизацию\r\n  export const authorize = (body) => {\r\n    return fetch(`${this.BASE_URL}/signin`, {      \r\n    method: 'POST',      \r\n    headers: this.headers,      \r\n    credentials: 'include',      \r\n    body: JSON.stringify(body),    \r\n    })\r\n    .then((res) => this._getResolve(res))      \r\n    .catch((err) => { throw err });  \r\n  }\r\n\r\n\r\n\r\n\r\n// export const authorize = (password, email) => fetch(`${BASE_URL}/signin`, {\r\n//   method: 'POST',\r\n//   headers: {\r\n//     'Content-Type': 'application/json',\r\n//   },\r\n//   body: JSON.stringify({ password, email }),\r\n// })\r\n//   .then((res) => {\r\n//     if (res.status === 400) {\r\n//       throw new BadRequestError('Не передано одно из полей');\r\n//     }\r\n//     else if (res.status === 401) {\r\n//       throw new NotAuthorizedError('Пользователь с таким email не найден');\r\n//     }\r\n//     return res.json();\r\n//   })\r\n//   .then((data) => {\r\n//     if (data.token) {\r\n//       localStorage.setItem('jwt', data.token);\r\n//       return data.token;\r\n//     }\r\n//   });\r\n\r\n// Отправляем запрос на получение токена\r\nexport const getContent = (token) => fetch(`${BASE_URL}/users/me`, {\r\n  method: 'GET',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': `Bearer ${token}`,\r\n  },\r\n})\r\n  .then((res) => {\r\n    if (!res.ok) {\r\n      return res.json()\r\n        .then((err) => {\r\n          throw new NotAuthorizedError(err.message);\r\n        });\r\n    }\r\n    return res.json()\r\n  })\r\n  .then((data) => data);","  \r\nimport React, { useState, useRef } from 'react';\r\nimport Form from './Form';\r\n\r\nfunction AuthorizeForm({onSubmit, title, submitButtonText, path,\r\n    loginText, loginLink, autoCompleteEmail, autoCompletePassword}){\r\n       \r\n       \r\n       \r\n        const [email, setEmail] = useState('');\r\n        const [password, setPassword] = useState('');\r\n        const [emailError, setEmailError] = useState('');\r\n        const [passwordError, setPasswordError] = useState('');\r\n        const [emailValid, setEmailValid] = useState(false);\r\n        const [passwordValid, setPasswordValid] = useState(false);\r\n\r\n        const emailRef = useRef();\r\n        const passwordRef = useRef();\r\n      \r\n        function handleChange(evt) {\r\n          const { value } = evt.target;\r\n          evt.target.name === 'email'\r\n            ? setEmail(value)\r\n            : setPassword(value);\r\n          validate();\r\n        }\r\n      \r\n        function validate() {\r\n          setEmailError(emailRef.current.validationMessage);\r\n          setPasswordError(passwordRef.current.validationMessage);\r\n          !emailRef.current.validity.valid ? setEmailValid(false) : setEmailValid(true);\r\n          !passwordRef.current.validity.valid ? setPasswordValid(false) : setPasswordValid(true);\r\n        }\r\n\r\n        function handleSubmit(evt) {\r\n            evt.preventDefault();\r\n            if (!email && !password) return;\r\n            onSubmit(password, email);\r\n            setEmail('');\r\n            setPassword('');\r\n        }\r\n\r\n    \r\n    \r\n        return(\r\n        <section className=\"authorize\">\r\n            <Form\r\n                id='authForm'\r\n                formName='signin'\r\n                title={title}\r\n                submitButtonText={submitButtonText}\r\n                isPopup={false}\r\n                path={path}\r\n                loginText={loginText}\r\n                loginLink={loginLink}\r\n                onSubmit={handleSubmit}\r\n            >\r\n            <label htmlFor=\"email\" className=\"authorize__form-label\">\r\n                <input \r\n                    ref={emailRef}\r\n                    id=\"email\" \r\n                    type=\"email\" \r\n                    placeholder=\"Email\" \r\n                    className=\"authorize__form-input\"\r\n                    name='email'\r\n                    value={email || ''}\r\n                    minLength='6'\r\n                    maxLength='40'\r\n                    autoComplete={autoCompleteEmail}\r\n                    required\r\n                    onChange={handleChange}\r\n                />\r\n\r\n            <span className={`popup__input-error ${!emailValid && 'authorize__form-error_visible'}`} id='email-error'>\r\n                {emailError}\r\n            </span>\r\n\r\n            </label>\r\n\r\n            <label htmlFor=\"password\" className=\"authorize__form-label\">\r\n                <input \r\n                    ref={passwordRef}\r\n                    id=\"password\" \r\n                    type=\"password\" \r\n                    placeholder=\"Пароль\" \r\n                    className=\"authorize__form-input\"\r\n                    name='password'\r\n                    value={password || ''}\r\n                    minLength='8'\r\n                    maxLength='30'\r\n                    autoComplete={autoCompletePassword}\r\n                    required\r\n                    onChange={handleChange}\r\n                />\r\n                <span className={`popup__input-error ${!passwordValid && 'authorize__form-error_visible'}`}\r\n                        id='password-error'>\r\n                    {passwordError}\r\n                </span>\r\n            </label>\r\n            \r\n            </Form>\r\n\r\n        </section>\r\n    )\r\n}\r\nexport default AuthorizeForm;","import React from 'react';\r\nimport AuthorizeForm from './AuthorizeForm';\r\n\r\nfunction Login({ onLogin }){\r\n    \r\n    function submitForm(password, email) {\r\n        onLogin(password, email);\r\n      }\r\n    return(\r\n        <AuthorizeForm\r\n            title='Вход'\r\n            submitButtonText='Войти'\r\n            path='/sign-up'\r\n            onSubmit={submitForm}\r\n            autoCompleteEmail='email'\r\n            autoCompletePassword='current-password'\r\n        />\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport AuthorizeForm from './AuthorizeForm';\r\n\r\nfunction Register({ onRegister }){\r\n    function submitForm(password, email) {\r\n        onRegister(password, email);\r\n      }\r\n    \r\n\r\n    return(\r\n        <AuthorizeForm\r\n            title='Регистрация'\r\n            submitButtonText='Зарегистрироваться'\r\n            path='/sign-in'\r\n            loginText='Уже зарегистрированы?'\r\n            loginLink='Войти'\r\n            onSubmit={submitForm}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/resolve.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/reject.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/loading.65f78576.svg\";","\r\nimport React, { useState }  from 'react';\r\nimport {\r\n  Route, Switch, useLocation, Redirect, useHistory,\r\n} from 'react-router-dom';\r\n\r\nimport '../index.css';\r\nimport { api } from '../utils/Api.js';\r\nimport Header from '../components/Header.js';\r\nimport Main from '../components/Main.js';\r\nimport Footer from '../components/Footer.js';\r\nimport ImagePopup from '../components/ImagePopup.js';\r\nimport EditAvatarPopup from '../components/EditAvatarPopup.js';\r\nimport EditProfilePopup from '../components/EditProfilePopup.js';\r\nimport AddPlacePopup from '../components/AddPlacePopup.js';\r\nimport ConfirmPopup from './ConfirmPopup.js';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport * as auth from '../utils/auth';\r\nimport { CurrentUserContext }  from '../contexts/CurrentUserContext.js'\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport resolvePath from '../images/resolve.svg';\r\nimport rejectPath from '../images/reject.svg';\r\nimport loading from '../images/loading.svg';\r\n\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = useState(false);\r\n  const [cards, setCards] = useState([]);\r\n  const [selectedCard, setSelectedCard] = useState({\r\n    isImageOpen: false,\r\n    link: '',\r\n    name: '',\r\n  });\r\n\r\n  const [currentUser, setCurrentUser] = useState({})\r\n  const [cardToDelete, setCardToDelete] = useState({});\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  // авторизация\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [email, setEmail] = useState('');\r\n  const [isAuthInfoOpened, setAuthInfoOpened] = useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\r\n  const [message, setMessage] = useState({\r\n    iconPath: loading,\r\n    text: ''\r\n  });\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const escape = require('escape-html');\r\n\r\n  // Проверить токен\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      auth.getContent(jwt)\r\n        .then((res) => {\r\n          setLoggedIn(true);\r\n          setEmail(res.data.email);\r\n          history.push('/');\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n  }, [history]);\r\n\r\n  // Регистрация\r\n  function handleRegister(password, email) {\r\n    auth.register(escape(password), email)\r\n      .then(() => {\r\n        setMessage({ iconPath: resolvePath, text: 'Вы успешно зарегистрировались!' });\r\n        history.push('/sign-in');\r\n      })\r\n      .catch((err) => setMessage({ iconPath: rejectPath, text: err.message }));\r\n    setInfoTooltipOpen(true);\r\n  }\r\n\r\n  // Авторизация\r\n  function handleLogin(password, email) {\r\n    auth.authorize(escape(password), email)\r\n      .then((data) => {\r\n        auth.getContent(data)\r\n          .then((res) => {\r\n            setEmail(res.data.email);\r\n          })\r\n          .catch(err => console.log(err));\r\n        setLoggedIn(true);\r\n        setMessage({ iconPath: resolvePath, text: 'Вы успешно вошли в приложение!' });\r\n        history.push('/');\r\n      })\r\n      .catch((err) => setMessage({ iconPath: rejectPath, text: err.message }))\r\n    setInfoTooltipOpen(true);\r\n  }\r\n\r\n  // Выход\r\n  function handleSignOut() {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem('jwt');\r\n    setEmail('');\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  //данные о текущем пользователе\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((currentUserInfoData) => {\r\n        setCurrentUser(currentUserInfoData);\r\n      })\r\n      .catch((err) =>\r\n        console.log(`Ошибка при загрузке информации о пользователе: ${err}`)\r\n      );\r\n  }, []);\r\n\r\n  //Открыть попап аватара\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n  //Открыть попап профииля\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n  //Открыть попап карточки\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n  // открыть фулсайз фото\r\n  function handleCardClick(card) {\r\n    const { link, name } = card;\r\n    setSelectedCard({ isImageOpen: true, link: link, name: name });\r\n  }\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      // Обновляем стейт\r\n      setCards(newCards);\r\n    })\r\n    .catch((err) =>\r\n        console.log(`Ошибка при постановке лайка: ${err}`)\r\n    );\r\n  } \r\n   //Удалить карточку после подтверждения\r\n   function handleConfirm() {\r\n    api\r\n      .deleteCard(cardToDelete._id)\r\n      .then(() =>{\r\n        setCards(cards.filter((item) => item !== cardToDelete))\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Ошибка при удалении карточки: ${err}`));\r\n    \r\n  }\r\n  //Кликнуть на удаление карточки\r\n  function handleCardDelete(card) {\r\n    setConfirmPopupOpen(true);\r\n    setCardToDelete(card);\r\n  }\r\n  //Закрыть все попапы\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setSelectedCard({});\r\n    setConfirmPopupOpen(false);\r\n    setInfoTooltipOpen(false)\r\n  }\r\n  //Обновить аватар\r\n  function handleUpdateAvatar(newAvatar) {\r\n      setLoading(true);\r\n      api\r\n        .setUserAvatar(newAvatar)\r\n        .then((res) => {\r\n          setCurrentUser(res);\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) => console.log(`Ошибка при обновлении аватара: ${err}`))\r\n        .finally(() => setLoading(false));\r\n        \r\n  }\r\n  //Обновить данные пользователя\r\n  function handleUpdateUser(userData) {\r\n      setLoading(true);\r\n      api\r\n        .updateUserInfo(userData)\r\n        .then((newUser) => {\r\n          setCurrentUser(newUser);\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) => `Ошибка при обновлении информации о пользователе: ${err}`)\r\n        .finally(() => setLoading(false));\r\n      \r\n  }\r\n  //Получить данные карточек с фото\r\n  React.useEffect(() => {\r\n      api\r\n        .getInitialCards()\r\n        .then((cardData) => {\r\n          setCards(cardData);\r\n        })\r\n        .catch((err) => console.log(`Ошибка при загрузке карточек: ${err}`));\r\n  }, []);\r\n  \r\n  function handleAddPlace(card) {\r\n      setLoading(true);\r\n      api\r\n        .postNewCard(card)\r\n        .then((newCard) => {\r\n          setCards([newCard, ...cards]);\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) =>\r\n          console.log(`Ошибка при добавлении новой карточки: ${err}`)\r\n        )\r\n        .finally(() => setLoading(false));\r\n      \r\n  }\r\n    \r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n        <div className=\"root\">\r\n          <div className=\"page\">\r\n          {(loggedIn && isAuthInfoOpened)}\r\n\r\n            <Header loggedIn={loggedIn}\r\n                    locaction={location}\r\n                    email={email}\r\n                    signOut={handleSignOut}\r\n                    isAuthInfoOpened={isAuthInfoOpened}\r\n            />\r\n            <Switch>\r\n      \r\n            <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main}\r\n                    cards={cards}\r\n                    onCardClick={handleCardClick}\r\n                    onCardLike={handleCardLike}\r\n                    onCardDelete={handleCardDelete}\r\n                    onEditProfile={handleEditProfileClick}\r\n                    onAddPlace={handleAddPlaceClick}\r\n                    onEditAvatar={handleEditAvatarClick}\r\n            />\r\n          <Route path='/sign-in'>\r\n            <Login onLogin={handleLogin} />\r\n          </Route>\r\n         \r\n          <Route path='/sign-up'>\r\n            <Register onRegister={handleRegister} />\r\n          </Route>\r\n          <Route>\r\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n          </Route>\r\n        </Switch>\r\n\r\n        <Footer />\r\n\r\n        <InfoTooltip\r\n          isOpen={isInfoTooltipOpen}\r\n          onClose={closeAllPopups}\r\n          loggedIn={loggedIn}\r\n          message={message}\r\n        />\r\n\r\n            <EditProfilePopup\r\n              isOpen={isEditProfilePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateUser={handleUpdateUser}\r\n              isLoading={isLoading}\r\n            />\r\n            <EditAvatarPopup\r\n              onUpdateAvatar={handleUpdateAvatar}\r\n              isOpen={isEditAvatarPopupOpen}\r\n              onClose={closeAllPopups}\r\n              isLoading={isLoading}\r\n            />\r\n            <AddPlacePopup\r\n              isOpen={isAddPlacePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onAddPlace={handleAddPlace}\r\n            />\r\n            <ConfirmPopup\r\n              isOpen={isConfirmPopupOpen}\r\n              onClose={closeAllPopups}\r\n              onConfirmDelete={handleConfirm}\r\n            />\r\n          \r\n            <ImagePopup \r\n            name={selectedCard.name}\r\n            link={selectedCard.link}\r\n            isOpen={selectedCard.isImageOpen}\r\n            onClose={closeAllPopups}\r\n            />\r\n            \r\n          </div>\r\n        </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n     <BrowserRouter basename=\"/\">\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}