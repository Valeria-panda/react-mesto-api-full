(this["webpackJsonpreact-auth"]=this["webpackJsonpreact-auth"]||[]).push([[0],{24:function(e,t,n){},36:function(e,t){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),o=n.n(c),i=n(26),s=n.n(i),r=(n(24),n(28)),u=n(2),l=n(3),p=(n(36),n.p+"static/media/headerlogo.c2821b38.svg"),d=n(8);var j=function(e){var t=e.email,n=e.signOut;return Object(a.jsxs)("div",{className:"auth-info",children:[Object(a.jsx)("span",{children:t}),Object(a.jsx)("a",{href:"/sign-in",className:"header__link",onClick:n,children:"\u0412\u044b\u0439\u0442\u0438"})]})};var m=function(e){var t=e.loggedIn,n=e.email,c=e.signOut,o=Object(l.h)().pathname,i="".concat("/sign-in"===o?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0412\u043e\u0439\u0442\u0438"),s="".concat("/sign-in"===o?"/sign-up":"/sign-in");return Object(a.jsxs)("header",{className:"header section",children:[Object(a.jsx)("img",{className:"header__logo-image",src:p,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f \u0441\u0430\u0439\u0442\u0430"}),t?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(j,{email:n,signOut:c})}):Object(a.jsx)(d.b,{to:s,className:"link header__link",children:i})]})},b=o.a.createContext();var f=function(e){var t=e.card,n=e.onCardClick,c=e.onCardLike,i=e.onCardDelete,s=o.a.useContext(b),r=t.owner._id===s._id,u="elements__delete ".concat(r?"elements__delete_visible":"elements__delete"),l=t.likes.some((function(e){return e._id===s._id})),p="elements__text-like ".concat(l&&"elements__text-like_active");return Object(a.jsxs)("li",{className:"elements__item",children:[Object(a.jsx)("img",{className:"elements__item-img",src:t.link,alt:t.name,onClick:function(){n(t)}}),Object(a.jsx)("button",{type:"button",className:u,onClick:function(){i(t)}}),Object(a.jsxs)("div",{className:"elements__text",children:[Object(a.jsx)("h3",{className:"elements__text-title",children:t.name}),Object(a.jsxs)("div",{className:"elements__text_count",children:[Object(a.jsx)("button",{type:"button",className:p,onClick:function(){c(t)}}),Object(a.jsx)("div",{className:"elements__text-likecounter",children:t.likes.length})]})]})]})};var h=function(e){var t=e.onEditAvatar,n=e.onEditProfile,c=e.onAddPlace,i=e.cards,s=e.onCardClick,r=e.onCardDelete,u=e.onCardLike,l=o.a.useContext(b);return Object(a.jsxs)("div",{className:"content section",children:[Object(a.jsxs)("section",{className:"profile section",children:[Object(a.jsxs)("div",{className:"profile__section",children:[Object(a.jsxs)("div",{className:"profile__avatar",children:[Object(a.jsx)("img",{className:"profile__avatarimage",alt:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",src:l.avatar}),Object(a.jsx)("div",{className:"profile__cover",children:Object(a.jsx)("button",{type:"button",className:"profile__avatarbutton",onClick:t})})]}),Object(a.jsxs)("div",{className:"profile__intro",children:[Object(a.jsxs)("div",{className:"intro",children:[Object(a.jsx)("h1",{className:"intro__title",children:l.name}),Object(a.jsx)("p",{className:"intro__subtitle",children:l.about})]}),Object(a.jsx)("button",{type:"button",className:"profile__edit-button",onClick:n})]})]}),Object(a.jsx)("button",{type:"button",className:"profile__button",onClick:c})]}),Object(a.jsx)("ul",{className:"elements__list",children:i.map((function(e){return Object(a.jsx)(f,{card:e,onCardClick:s,onCardLike:u,onCardDelete:r},e._id)}))})]})};var O=function(){return Object(a.jsx)("footer",{className:"footer section",children:Object(a.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Mesto Russia"})})};var _=function(e){var t=e.isOpen,n=e.onClose,c=e.link,o=e.name;return Object(a.jsxs)("div",{className:"popup ".concat(t&&"popup_opened"),children:[Object(a.jsx)("div",{className:"popup__background popup__background_photo"}),Object(a.jsxs)("div",{className:"popup__photo-container",children:[Object(a.jsx)("button",{type:"reset",className:"popup__button",onClick:n}),Object(a.jsx)("img",{className:"popup__image",src:c,alt:o}),Object(a.jsx)("h2",{className:"popup__title popup__title_photo",children:o})]})]})};var x=function(e){var t=e.formName,n=e.formId,c=e.onSubmit,o=e.title,i=e.children,s=e.isLoading,r=e.submitButtonText,u=e.isPopup,l=e.path,p=e.loginText,j=e.loginLink,m=e.noConfirm,b=e.disabled,f=e.onClose;return Object(a.jsxs)("form",{name:t,id:n,onSubmit:c,className:"".concat(u&&"popup__form"," popup__form_type_").concat(t),children:[Object(a.jsx)("h2",{className:"".concat(!u&&"authorize__form-title"," popup__title"),children:o}),i,!m&&Object(a.jsx)("button",{type:"submit",className:"".concat(!u&&"authorize__form-button"," popup__submit"),disabled:b,children:s?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":r}),u&&Object(a.jsx)("button",{type:"reset",className:"popup__button",onClick:f}),!u&&Object(a.jsxs)("span",{className:"authorize__form-quest",children:[p,Object(a.jsx)(d.b,{to:l,className:"authorize__form-quest authorize__form-link",children:j})]})]})};var g=function(e){var t=e.isOpen,n=e.formId,c=e.onSubmit,o=e.onClose,i=e.formName,s=e.title,r=e.children,u=e.submitButtonText,l=e.disabled,p=e.isLoading,d=e.noConfirm;return Object(a.jsxs)("section",{className:"popup ".concat(t&&"popup_opened"),children:[Object(a.jsx)("div",{className:"popup__background"}),Object(a.jsx)(x,{id:n,isPopup:!0,name:i,onSubmit:c,onClose:o,isLoading:p,title:s,children:r,disabled:l,submitButtonText:u,noConfirm:d})]})};var v=function(e){var t=e.isOpen,n=e.onClose,o=e.onUpdateAvatar,i=e.isLoading,s=Object(c.useRef)("");return Object(a.jsx)(g,{name:"popup",id:"popup-editavatar-form",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),o({avatar:s.current.value})},isLoading:i,children:Object(a.jsxs)("label",{htmlFor:"avatar",className:"popup__input-label",children:[Object(a.jsx)("input",{ref:s,type:"url",name:"avatar",className:"popup__input popup__input_avatar",required:!0,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440"}),Object(a.jsx)("span",{className:"popup__input-error",id:"avatar-error"})]})})};var C=function(e){var t=e.isOpen,n=e.onClose,i=e.onUpdateUser,s=e.isLoading,r=o.a.useContext(b),l=Object(c.useState)(""),p=Object(u.a)(l,2),d=p[0],j=p[1],m=Object(c.useState)(""),f=Object(u.a)(m,2),h=f[0],O=f[1];return o.a.useEffect((function(){j(r.name),O(r.about)}),[r]),Object(a.jsxs)(g,{name:"popup",id:"popup-edit-form",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),i({name:d,about:h})},isLoading:s,children:[Object(a.jsxs)("label",{htmlFor:"name",className:"popup__input-label",children:[Object(a.jsx)("input",{name:"name",value:d||"",className:"popup__input popup__input_name",type:"text",required:!0,pattern:"[\u0410-\u042f\u0430-\u044fA-Za-z -]{1,}",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",minLength:"2",maxLength:"40",autoComplete:"off",onChange:function(e){"name"===e.target.name&&j(e.target.value)}}),Object(a.jsx)("span",{className:"popup__input-error",id:"name-error"})]}),Object(a.jsxs)("label",{htmlFor:"about",className:"popup__input-label",children:[Object(a.jsx)("input",{type:"text",name:"about",className:"popup__input popup__input_job",value:h||"",required:!0,placeholder:"\u0427\u0435\u043c \u0432\u044b \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0435\u0441\u044c?",minLength:"2",maxLength:"200",autoComplete:"off",onChange:function(e){"about"===e.target.name&&O(e.target.value)}}),Object(a.jsx)("span",{className:"popup__input-error",id:"about-error"})]})]})};var N=function(e){var t=e.isOpen,n=e.onClose,i=e.onAddPlace,s=e.isLoading,r=Object(c.useState)(""),l=Object(u.a)(r,2),p=l[0],d=l[1],j=Object(c.useState)(""),m=Object(u.a)(j,2),b=m[0],f=m[1];return o.a.useEffect((function(){d(""),f("")}),[t]),Object(a.jsxs)(g,{formName:"popup",formId:"popup-addCard",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),i({name:p,link:b})},isLoading:s,children:[Object(a.jsxs)("label",{htmlFor:"name",className:"popup__input-label",children:[Object(a.jsx)("input",{id:"name",name:"name",value:p||"",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:"1",maxLength:"30",required:!0,onChange:function(e){"name"===e.target.name&&d(e.target.value)},className:"popup__input popup__input_name",type:"text",autoComplete:"off"}),Object(a.jsx)("span",{className:"popup__input-error",id:"name-error"})]}),Object(a.jsxs)("label",{htmlFor:"link",className:"popup__input-label",children:[Object(a.jsx)("input",{type:"url",id:"link",name:"link",value:b||"",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0,onChange:function(e){"link"===e.target.name&&f(e.target.value)},className:"popup__input popup__input_link",autoComplete:"off",minLength:"2",maxLength:"200"}),Object(a.jsx)("span",{className:"popup__input-error",id:"link-error"})]})]})};var k=function(e){var t=e.isOpen,n=e.onClose,c=e.onConfirmDelete,o=e.isLoading;return Object(a.jsx)(g,{name:"popup",id:"popup-deleteCards",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b?",submitButtonText:"\u0414\u0430",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),c()},isLoading:o})},S=n(29),y=n(30),L=function(e){var t=e.component,n=Object(y.a)(e,["component"]);return Object(a.jsx)(l.b,{children:function(){return n.loggedIn?Object(a.jsx)(t,Object(S.a)({},n)):Object(a.jsx)(l.a,{to:"./login"})}})};var T=function(e){var t=e.isOpen,n=e.onClose,c=e.loggedIn,o=e.message;return Object(a.jsxs)(g,{formName:"infoTooltip",noConfirm:!0,isOpen:t,onClose:n,loggedIn:c,isPopup:!0,children:[Object(a.jsx)("img",{src:o.iconPath,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",className:"form__icon"}),Object(a.jsx)("p",{className:"infoToolTip__text",children:o.text})]})},P=n(15),w=n(16),E=n(18),I=n(19),A=function(e){Object(w.a)(n,e);var t=Object(E.a)(n);function n(e){var a;Object(P.a)(this,n);for(var c=arguments.length,o=new Array(c>1?c-1:0),i=1;i<c;i++)o[i-1]=arguments[i];return(a=t.call.apply(t,[this].concat(o))).status=401,a.message=e,a}return n}(Object(I.a)(Error)),z=function(e){Object(w.a)(n,e);var t=Object(E.a)(n);function n(e){var a;Object(P.a)(this,n);for(var c=arguments.length,o=new Array(c>1?c-1:0),i=1;i<c;i++)o[i-1]=arguments[i];return(a=t.call.apply(t,[this].concat(o))).status=400,a.message=e,a}return n}(Object(I.a)(Error)),B="https://api.advent.students.nomoredomains.rocks";function D(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}var F={"Content-Type":"application/json; charset=utf-8"};function q(){return fetch("".concat(B,"/users/me"),{headers:F,credentials:"include"}).then((function(e){return D(e)}))}function J(){return fetch("".concat(B,"/cards"),{headers:F,credentials:"include"}).then((function(e){return D(e)}))}var R=function(e){var t=e.onSubmit,n=e.title,o=e.submitButtonText,i=e.path,s=e.loginText,r=e.loginLink,l=e.autoCompleteEmail,p=e.autoCompletePassword,d=Object(c.useState)(""),j=Object(u.a)(d,2),m=j[0],b=j[1],f=Object(c.useState)(""),h=Object(u.a)(f,2),O=h[0],_=h[1],g=Object(c.useState)(""),v=Object(u.a)(g,2),C=v[0],N=v[1],k=Object(c.useState)(""),S=Object(u.a)(k,2),y=S[0],L=S[1],T=Object(c.useState)(!1),P=Object(u.a)(T,2),w=P[0],E=P[1],I=Object(c.useState)(!1),A=Object(u.a)(I,2),z=A[0],B=A[1],D=Object(c.useRef)(),F=Object(c.useRef)();function q(e){var t=e.target.value;"email"===e.target.name?b(t):_(t),N(D.current.validationMessage),L(F.current.validationMessage),D.current.validity.valid?E(!0):E(!1),F.current.validity.valid?B(!0):B(!1)}return Object(a.jsx)("section",{className:"authorize",children:Object(a.jsxs)(x,{id:"authForm",formName:"signin",title:n,submitButtonText:o,isPopup:!1,path:i,loginText:s,loginLink:r,onSubmit:function(e){e.preventDefault(),(m||O)&&(t(O,m),b(""),_(""))},children:[Object(a.jsxs)("label",{htmlFor:"email",className:"authorize__form-label",children:[Object(a.jsx)("input",{ref:D,id:"email",type:"email",placeholder:"Email",className:"authorize__form-input",name:"email",value:m||"",minLength:"6",maxLength:"40",autoComplete:l,required:!0,onChange:q}),Object(a.jsx)("span",{className:"popup__input-error ".concat(!w&&"authorize__form-error_visible"),id:"email-error",children:C})]}),Object(a.jsxs)("label",{htmlFor:"password",className:"authorize__form-label",children:[Object(a.jsx)("input",{ref:F,id:"password",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"authorize__form-input",name:"password",value:O||"",minLength:"8",maxLength:"30",autoComplete:p,required:!0,onChange:q}),Object(a.jsx)("span",{className:"popup__input-error ".concat(!z&&"authorize__form-error_visible"),id:"password-error",children:y})]})]})})};var U=function(e){var t=e.onLogin;return Object(a.jsx)(R,{title:"\u0412\u0445\u043e\u0434",submitButtonText:"\u0412\u043e\u0439\u0442\u0438",path:"/sign-up",onSubmit:function(e,n){t(e,n)},autoCompleteEmail:"email",autoCompletePassword:"current-password"})};var M=function(e){var t=e.onRegister;return Object(a.jsx)(R,{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",submitButtonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",path:"/sign-in",loginText:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",loginLink:"\u0412\u043e\u0439\u0442\u0438",onSubmit:function(e,n){t(e,n)}})},H=n.p+"static/media/resolve.1b6082f8.svg",Z=n.p+"static/media/reject.df8eddf6.svg",G=n.p+"static/media/loading.65f78576.svg";var K=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(!1),p=Object(u.a)(s,2),d=p[0],j=p[1],f=Object(c.useState)(!1),x=Object(u.a)(f,2),g=x[0],S=x[1],y=Object(c.useState)(!1),P=Object(u.a)(y,2),w=P[0],E=P[1],I=Object(c.useState)([]),R=Object(u.a)(I,2),K=R[0],Q=R[1],V=Object(c.useState)({isImageOpen:!1,link:"",name:""}),W=Object(u.a)(V,2),X=W[0],Y=W[1],$=Object(c.useState)({}),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ae=Object(c.useState)({}),ce=Object(u.a)(ae,2),oe=ce[0],ie=ce[1],se=Object(c.useState)(!1),re=Object(u.a)(se,2),ue=re[0],le=re[1],pe=Object(c.useState)(!1),de=Object(u.a)(pe,2),je=de[0],me=de[1],be=Object(c.useState)(""),fe=Object(u.a)(be,2),he=fe[0],Oe=fe[1],_e=Object(c.useState)(!1),xe=Object(u.a)(_e,2),ge=xe[0],ve=(xe[1],Object(c.useState)(!1)),Ce=Object(u.a)(ve,2),Ne=Ce[0],ke=Ce[1],Se=Object(c.useState)({iconPath:G,text:""}),ye=Object(u.a)(Se,2),Le=ye[0],Te=ye[1],Pe=Object(l.h)(),we=Object(l.g)();function Ee(){i(!1),S(!1),j(!1),Y({}),E(!1),ke(!1)}return o.a.useEffect((function(){q().then((function(e){me(!0),ne(e)})).catch((function(e){return console.log(e)}))}),[je]),o.a.useEffect((function(){je&&J().then((function(e){return Q(e.reverse())})).catch((function(e){return console.log(e)}))}),[je]),o.a.useEffect((function(){J().then((function(e){Q(e)})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a: ".concat(e))}))}),[]),Object(a.jsx)(b.Provider,{value:te,children:Object(a.jsx)("div",{className:"root",children:Object(a.jsxs)("div",{className:"page",children:[je&&ge,Object(a.jsx)(m,{loggedIn:je,locaction:Pe,email:he,signOut:function(){fetch("".concat(B,"/signout"),{headers:F,credentials:"include"}).then((function(e){return D(e)})).then((function(){me(!1),ne({})})).catch((function(e){return console.log(e)}))},isAuthInfoOpened:ge}),Object(a.jsxs)(l.d,{children:[Object(a.jsx)(L,{exact:!0,path:"/",loggedIn:je,component:h,cards:K,onCardClick:function(e){var t=e.link,n=e.name;Y({isImageOpen:!0,link:t,name:n})},onCardLike:function(e){var t=e.likes.some((function(e){return e._id===te._id}));(function(e,t){var n=e._id;return fetch("".concat(B,"/cards/").concat(n,"/likes"),{method:t,headers:F,credentials:"include"}).then((function(e){return D(e)}))})(e._id,!t).then((function(t){var n=K.map((function(n){return n._id===e._id?t:n}));Q(n)})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043b\u0430\u0439\u043a\u0430: ".concat(e))}))},onCardDelete:function(e){E(!0),ie(e)},onEditProfile:function(){i(!0)},onAddPlace:function(){j(!0)},onEditAvatar:function(){S(!0)}}),Object(a.jsx)(l.b,{path:"/sign-in",children:Object(a.jsx)(U,{onLogin:function(e,t){return function(e,t){return fetch("".concat(B,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t}),credentials:"include"}).then((function(e){if(400===e.status)throw new A("\u041d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439");if(401===e.status)throw new z("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d");return e.json()}))}(e,t).then((function(e){q().then((function(e){Oe(e.data.email)})).catch((function(e){return console.log(e)})),me(!0),Te({iconPath:H,text:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u043e\u0448\u043b\u0438 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435!"}),we.push("/")})).catch((function(e){return Te({iconPath:Z,text:e.message})}))}})}),Object(a.jsx)(l.b,{path:"/sign-up",children:Object(a.jsx)(M,{onRegister:function(e,t){(function(e,t){return fetch("".concat(B,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t}),credentials:"include"}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw e.error?new A(e.error):new A(e.message)}))}))})(e,t).then((function(){Te({iconPath:H,text:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"}),we.push("/sign-in")})).catch((function(e){return Te({iconPath:Z,text:e.message})})),ke(!0)}})}),Object(a.jsx)(l.b,{children:je?Object(a.jsx)(l.a,{to:"/"}):Object(a.jsx)(l.a,{to:"/sign-in"})})]}),Object(a.jsx)(O,{}),Object(a.jsx)(T,{isOpen:Ne,onClose:Ee,loggedIn:je,message:Le}),Object(a.jsx)(C,{isOpen:n,onClose:Ee,onUpdateUser:function(e){le(!0),function(e){var t=e.name,n=e.about;return fetch("".concat(B,"/users/me"),{method:"PATCH",headers:F,credentials:"include",body:JSON.stringify({name:t,about:n})}).then((function(e){return D(e)}))}(e).then((function(e){ne(e),Ee()})).catch((function(e){return"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435: ".concat(e)})).finally((function(){return le(!1)}))},isLoading:ue}),Object(a.jsx)(v,{onUpdateAvatar:function(e){le(!0),function(e){var t=e.avatar;return fetch("".concat(B,"/users/me/avatar"),{method:"PATCH",headers:F,credentials:"include",body:JSON.stringify({avatar:t})}).then((function(e){return D(e)}))}(e).then((function(e){ne(e),Ee()})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0430\u0432\u0430\u0442\u0430\u0440\u0430: ".concat(e))})).finally((function(){return le(!1)}))},isOpen:g,onClose:Ee,isLoading:ue}),Object(a.jsx)(N,{isOpen:d,onClose:Ee,onAddPlace:function(e){le(!0),function(e){var t=e.name,n=e.link;return fetch("".concat(B,"/cards"),{method:"POST",headers:F,credentials:"include",body:JSON.stringify({name:t,link:n})}).then((function(e){return D(e)}))}(e).then((function(e){Q([e].concat(Object(r.a)(K))),Ee()})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u043e\u0432\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438: ".concat(e))})).finally((function(){return le(!1)}))}}),Object(a.jsx)(k,{isOpen:w,onClose:Ee,onConfirmDelete:function(){(function(e){var t=e._id;return fetch("".concat(B,"/cards/").concat(t),{method:"DELETE",headers:F,credentials:"include"}).then((function(e){return D(e)}))})(oe._id).then((function(){Q(K.filter((function(e){return e!==oe}))),Ee()})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438: ".concat(e))}))}}),Object(a.jsx)(_,{name:X.name,link:X.link,isOpen:X.isImageOpen,onClose:Ee})]})})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))};s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(d.a,{basename:"/",children:Object(a.jsx)(K,{})})}),document.getElementById("root")),Q()}},[[42,1,2]]]);
//# sourceMappingURL=main.0537aa2f.chunk.js.map